function onLoadObjective(){$(".load-bar").show(),$("#newObjectiveSection").hide(),$("#objectiveDetailsSection").hide(),window.setTimeout(function(){"false"==$("#hdniskpi").val()?($("#objectiveDetailsSection").hide(),$("#newObjectiveSection").show(),GetObjective()):($("#newObjectiveSection").hide(),$("#objectiveDetailsSection").show(),getObjectiveDetails(orgData.objectives[0].id)),$(".load-bar").hide()},100)}function onClickKpis(t){return t.setAttribute("data-id",""),orgData.objectives.length>0&&orgData.functions.length>0?(t.setAttribute("data-id","#page-objective"),$("#hdniskpi").val("true"),!0):(toastr.error("Please create atleast one objective/function to view kpi"),$("#hdniskpi").val("false"),!1)}function GetObjective(){pullUpMenu("#drivers"),$("#objText").val(""),$("#hdnObjectiveId").val("0"),$("#drivers").find('input[name="one"]:checked').removeAttr("checked"),$("#hasObjectives").hide(),$("#noObjectives").hide();var t=orgData;if(null!=t)if(t=t.objectives,t.length>0){$("#objective-list-col-1").html(""),$("#objective-list-col-2").html(""),$("#objective-list-col-3").html("");for(var e=0;e<t.length;)for(var i=1;3>=i;i++)if(i<=t.length&&e<t.length){var n='<div class="obj-cont"><span class="hidecrossmark" onclick="deletedata('+t[e].id+')"><img src="assets/img/close.png" style="width:25px;"></span><div class="bg-white bg-shadow br-full-5 p-10 obj-cont-main">'+t[e].objective+'</div><div class="driver-div" style="display: none;"><table class="driver-table bg-shadow">',a=t[e].drivers;if(null!=a)if(a.length>0)for(var o=0;o<a.length;o++)n+="<tr><td>"+a[o].driver+"</td></tr>";else n+="<tr><td>"+a.driver+"</td></tr>";n+='</table></div><div onclick="onClickDriver(this)" class="bg-gray bg-shadow obj-cont-pull br-half-5">Drivers<span><img class="darrow" src="assets/img/down_arrow.png" /></span></div></div></div>',$("#objective-list-col-"+i).append(n),e++}$("#hasObjectives").show(),$(".hidecrossmark").hide(),$(".obj-cont-main").swipe({hold:function(t,e){$(this).prev(".hidecrossmark").show()},longpresstreshold:50}),document.getElementById("objectiveList").addEventListener("click",function(){$(".hidecrossmark").hide()}),document.getElementById("objectMainHalfCont").addEventListener("click",function(){$(".hidecrossmark").hide()}),document.getElementById("objectsCont").addEventListener("click",function(){$(".hidecrossmark").hide()})}else $("#noObjectives").show()}function deletedata(t){$(".load-bar").show(),$("#fad").show(),toastr.options={timeOut:0},toastr.warning("Are you sure you want to delete<br /><br /><button type='button' onclick='delObjId("+t+")' class='btn clear'>Yes</button><button style='margin-left: 20px;' onclick='resetToast();' type='button' class='btn clear' >No</button>")}function delObjId(t){var e=new CallBack;if(e.func="onDeletedObjective",e.data=t,$(".load-bar").hide(),resetToast(),orgData=_glocalStorage.loadData("orgdata"),null!=orgData.kpis)for(var i=0;i<orgData.kpis.length;i++)if(orgData.kpis[i].objectiveid==t){var i=orgData.kpis.indexOf(orgData.kpis[i]);i>-1&&orgData.kpis.splice(i,1)}_glocalStorage.saveData("orgdata",orgData);for(var i=0;i<orgData.objectives.length;i++)if(orgData.objectives[i].id==t){var i=orgData.objectives.indexOf(orgData.objectives[i]);i>-1&&orgData.objectives.splice(i,1)}_glocalStorage.saveData("orgdata",orgData);_glocalStorage.loadData("countdata");cnt++,$("#sync_count").html(cnt),$("#sync_count").show(),_glocalStorage.saveData("countdata",cnt),toastr.success("Objective has been deleted."),GetObjective()}function editObjectiveDetail(){$(".check-icon-gray1").hide(),$(".check-icon-blue1").show()}function getObjectiveDetails(t){$("#hdnCurrentHighlightObjectiveId").val(t);var e=_glocalStorage.loadData("login"),i=(e.orgid,orgData),n=orgData.functions;if(null!=i){if(i=i.objectives,document.getElementById("total_objectives_defined").innerText=i.length>0?i.length.toString():"0",document.getElementById("total_functions_defined").innerText=n.length>0?n.length.toString():"0",null!=n&&n.length>0){var a=$("#functionList");a.html(""),a.append('<div class="hiddenitem"><div></div></div>'),a.append('<div class="hiddenitem"><div></div></div>'),functionNamesArray.length=0,functionIdsArray.length=0;for(var o=0;o<n.length;o++)a.append('<div class="item"><div>'+n[o].functionname+"</div><hr /></div>"),functionNamesArray.push(n[o].functionname),functionIdsArray.push(parseInt(n[o].functionid));a.append('<div class="hiddenitem"><div></div></div>'),a.append('<div class="hiddenitem"><div></div></div>'),$("#slider").css("height",100*n.length+"px"),slideTill=-Math.abs(100*n.length),functionIndex=0,$("#hdnCurrentHighlightFunctionId").val(n[0].functionid),$("#functionList > .item > div").eq(0).addClass("activeFunction");var r=document.getElementById("functionListContainer");r.scrollTop=134*functionIndex}$("#myCarousel").find(".carousel-inner").html("");var d="",s="";if(null!=i&&i.length>0)for(var o=0;o<i.length;o++)d+='<div class="item"><span id="objective_list_'+i[o].id+'" objectiveid="'+i[o].id+'">'+i[o].objective+"</span></div>",s+='<li id="objective_indicator_'+i[o].id+'" data-target="#myCarousel"></li>';$("#myCarousel").find(".carousel-inner").html(d),$("#myCarousel").find(".carousel-indicators").html(s),$("#myCarousel").find("#objective_list_"+t).parent("div").addClass("active"),$("#myCarousel").find("#objective_indicator_"+t).addClass("active");var l=parseInt($("#hdnCurrentHighlightFunctionId").val());GetObjectFunctionKPIMapping(t,l),GetOverviewNavigation(n,i),highlightOverviewNavigation(t,l);for(var c=orgData.kpis,g=new Array,o=0;o<n.length;o++){var p=new gData;p.X=o+1;var v=0;if(null!=c)for(var h=0;h<c.length;h++)n[o].functionid==c[h].functionid&&v++;p.Y=parseInt(v),g.push(p)}_objkpiarray=g,window.setTimeout(function(){if(null==_kpiChart)_kpiChart=DrawLineChart("#statisticsG",_objkpiarray,!1,!1,"","KPI",20);else{var t={linecolor:"#26C0AB",values:_objkpiarray};_kpiChart.SimpleChart("data",[t]),_kpiChart.SimpleChart("reload","true")}},1e3)}}function updateChart(t){var e=null,i=orgData.objectives,n=orgData.functions,a=orgData.kpis;if(t){for(var o=new Array,r=0;r<n.length;r++){var d=new gData;d.X=r+1;for(var s=0,l=0;l<a.length;l++)n[r].functionid==a[l].functionid&&s++;d.Y=parseInt(s),o.push(d)}e=o}else{for(var c=new Array,r=0;r<i.length;r++){var d=new gData;d.X=r+1;for(var s=0,l=0;l<a.length;l++)i[r].id==a[l].objectiveid&&s++;d.Y=parseInt(s),c.push(d)}e=c}var g={linecolor:"#26C0AB",values:e};_kpiChart.SimpleChart("data",[g]),_kpiChart.SimpleChart("reload","true")}function createObjective(){var t=$.trim($("#objText").val());if(0==t.length)return void toastr.error("Objective should not be empty");var e=[];if($("#drivers").find('input[name="one"]:checked').each(function(){e.push($(this).val())}),0==e.length)return toastr.error("Please select a drivers for this Objective"),void pullDownMenu("#drivers");var i=_glocalStorage.loadData("login");orgData=_glocalStorage.loadData("orgdata");var n=new Objective;n.orgid=i.orgid,n.description=t,gDriver=_glocalStorage.loadData("drivers");for(var a=0;a<e.length;a++){var o=new objDriver;o.driverid=e[a],o.driver=gDriver[e[a]-1].driver,n.drivers.push(o)}for(var a=0;a<orgData.objectives.length;a++)objid==orgData.objectives[a].id&&objid--;var r=new objData;r.id=objid,r.orgid=n.orgid,r.objective=t,r.drivers=n.drivers,orgData.objectives.push(r);var d=new CallBack;d.func="onSuccessObjectiveCreation",$(".load-bar").show(),_glocalStorage.saveData("orgdata",orgData),toastr.success("objective created successfully");_glocalStorage.loadData("countdata");cnt++,$("#sync_count").html(cnt),$("#sync_count").show(),_glocalStorage.saveData("countdata",cnt),GetObjective(),$(".load-bar").hide(),$(".check-icon-blue1").hide()}function onSuccessObjectiveCreation(t,e){if($(".load-bar").show(),t){var i=_glocalStorage.loadData("login");getOrganizationData(i.orgid),GetObjective()}else toastr.error("Something went wrong");$(".load-bar").hide()}function pullDownMenu(t){$("#blurCont").fadeIn(),$("#objectMainHalfCont").css("width",$("#objectMainHalfCont").width()),$("#objectMainHalfCont").css("position","absolute"),$(t).slideDown(function(){$("#btnPullDown").hide(),$("#btnPullUp").show()})}function pullUpMenu(t){$("#blurCont").fadeOut(),$(t).slideUp(function(){$("#btnPullDown").show(),$("#btnPullUp").hide(),$("#objectMainHalfCont").css("position","relative"),$("#objectMainHalfCont").css("width","")})}function onClickDriver(t){$(t).parent().find(".driver-div").slideToggle(function(){var t=$(this).is(":hidden");t?$(this).parent().find(".darrow").attr("src","assets/img/down_arrow.png"):$(this).parent().find(".darrow").attr("src","assets/img/up_arrow.png")})}function onClickKPIList(t){var e=document.getElementById(t);$(e).parent().find(".kpi-div").slideToggle(function(){var t=$(this).is(":hidden");t?$(this).parent().find(".darrow").attr("src","assets/img/down_arrow_2.png"):$(this).parent().find(".darrow").attr("src","assets/img/up_arrow_2.png")})}function moveDown(){var t=parseInt(document.getElementById("slider").style.top);if(75>t){functionIndex-=1,document.getElementById("slider").style.top=t+140+"px",document.getElementById("highlightFunction").innerText=functionNamesArray[functionIndex],$("#hdnCurrentHighlightFunctionId").val(functionIdsArray[functionIndex]);var e=parseInt($("#hdnCurrentHighlightObjectiveId").val());GetObjectFunctionKPIMapping(e,parseInt(functionIdsArray[functionIndex])),highlightOverviewNavigation(e,functionIdsArray[functionIndex])}}function moveUp(){var t=parseInt(document.getElementById("slider").style.top);if(void 0!=functionNamesArray[functionIndex+1]&&t>slideTill){functionIndex+=1,document.getElementById("slider").style.top=t-140+"px",document.getElementById("highlightFunction").innerText=functionNamesArray[functionIndex],$("#hdnCurrentHighlightFunctionId").val(functionIdsArray[functionIndex]);var e=parseInt($("#hdnCurrentHighlightObjectiveId").val());$("#navigationList").find("table").find("td").css("border",""),$("#ov_nav_"+functionIdsArray[functionIndex]+"_"+e).css("border","2px solid #ccc"),GetObjectFunctionKPIMapping(e,parseInt(functionIdsArray[functionIndex])),highlightOverviewNavigation(e,functionIdsArray[functionIndex])}}function getKPIContainerDiv(t,e){var i=!1,n="",a=_glocalStorage.loadData("login"),o=new KPI;o.functionid=parseInt($("#hdnCurrentHighlightFunctionId").val()),o.objectiveid=parseInt($("#hdnCurrentHighlightObjectiveId").val()),o.orgid=a.orgid,o.kpiid=parseInt(e),orgData=_glocalStorage.loadData("orgdata");var r=new objKpi;r.kpiname=t,r.objectiveid=o.objectiveid,r.functionid=o.functionid,r.kpiid=o.kpiid,r.orgid=o.orgid,null!=r&&(i=!1,n=r.description,r.description=n),createKPIContainerDiv1(r.kpiname,r.kpiid,i,r.description)}function createKPIContainerDiv(t,e,i,n){var a=t.replace(" ","").replace(" ","").replace(" ","").replace(" ",""),o='<div class="new-kpi-data" id="div_'+a+'"><input type="hidden" id="hdnKPIId" value="'+e+'" /><div style="height: 40px; padding: 5px 25px 0px 25px;"><div style="border-bottom: 1px solid #eee; padding-bottom: 5px;"><table style="width: 100%;"><tr><td style="width: 10%;"><img src="assets/img/KPI/'+a+'.png" style="width: 30px"></td><td style="width: 80%;font-family: HelveticaNeue_Bold;">'+t+'</td><td style="width: 10%; text-align: right;" onclick="removeKPIContainerDiv(&#39;'+a+"&#39;,&#39;"+e+'&#39;)"><img src="assets/img/delete.png" style="width: 30px" /></td></tr></table></div></div><div style="height: 90px;"><div style="padding: 10px 20px 0px 50px; width: 100%;"><div id="'+a+'_define"><textarea placeholder="Add text here" maxlength="150"></textarea></div><div id="'+a+'_defined" maxlength="200" style="padding: 10px 10px 0px 15px; height: 90px; overflow-y: auto;">'+n+'</div></div></div><div style="height: 40px; padding: 5px 25px 0px 25px;"><div><table style="width: 100%;"><tr><td style="width: 10%;"></td><td style="width: 80%;"></td>';o+=i?'<td style="width: 10%; text-align: right;" onclick="editKPI(&#39;div_'+a+'&#39;, this)"><img src="assets/img/edit.png" style="width: 30px" /></td>':'<td style="width: 10%; text-align: right;" onclick="createKPI(&#39;div_'+a+'&#39;, false)"><img src="assets/img/check_2.png" style="width: 30px" /></td>',o+="</tr></table></div></div></div>",$("#new-kpi-list").append(o),i?$("#"+a+"_define").css("display","none"):$("#"+a+"_defined").css("display","none")}function removeKPIContainerDiv(t,e){toastr.options={timeOut:0},$("#fad").show();var i='"'+t+'","'+e+'"';toastr.warning("Are you sure you want to delete<br /><br /><button type='button' onclick='delKpi("+i+")' class='btn clear'>Yes</button><button style='margin-left: 20px;' onclick='resetToast();' type='button' class='btn clear'>No</button>")}function setDriverSelection(t){var e=document.getElementById(t);0==e.checked?e.checked=!0:e.checked=!1}function setKpiSelection(t){var e=document.getElementById(t);0==e.checked?(e.checked=!0,$("#KPI_"+t).css("color","#000"),$("#img_"+t).attr("src","assets/img/KPI/"+t+"_active.png"),getKPIContainerDiv(e.getAttribute("kpiname"),e.getAttribute("value"))):removeKPIContainerDiv(t,e.getAttribute("value"))}function delKpi(t,e){resetToast();var i=document.getElementById(t);$("#div_"+t).remove(),$("#KPI_"+t).css("color","#929496"),i.checked=!1,$("#img_"+t).attr("src","assets/img/KPI/"+t+".png"),$("#"+t).removeAttr("checked");var n=_glocalStorage.loadData("login"),a=new KPI;a.functionid=parseInt($("#hdnCurrentHighlightFunctionId").val()),a.objectiveid=parseInt($("#hdnCurrentHighlightObjectiveId").val()),a.orgid=n.orgid,a.kpiid=parseInt(e),orgData=_glocalStorage.loadData("orgdata");var o=new objKpi;if(o.functionid=a.functionid,o.objectiveid=a.objectiveid,o.orgid=a.orgid,o.kpiid=a.kpiid,e){for(var r=0;r<orgData.kpis.length;r++)if(orgData.kpis[r].objectiveid==a.objectiveid&&orgData.kpis[r].functionid==a.functionid&&orgData.kpis[r].kpiid==a.kpiid){var r=orgData.kpis.indexOf(orgData.kpis[r]);r>-1&&orgData.kpis.splice(r,1)}_glocalStorage.saveData("orgdata",orgData);_glocalStorage.loadData("countdata");cnt++,$("#sync_count").html(cnt),$("#sync_count").show(),_glocalStorage.saveData("countdata",cnt),toastr.success("Kpi has been deleted.")}else toastr.error("Sorry! Something went wrong...")}function GetObjectFunctionKPIMapping(t,e){$("#new-kpi-list").html(""),resetKPIIconContainer();var i=_glocalStorage.loadData("login"),n=new KPI;n.functionid=e,n.objectiveid=t,n.orgid=i.orgid,n.kpiid=0;var a=new objKpi;if(a.functionid=n.functionid,a.objectiveid=n.objectiveid,a.orgid=n.orgid,a.kpiid=n.kpiid,a=_glocalStorage.loadData("orgdata"),null!=a.kpis)if(a.kpis.length>0){for(var o=0;o<a.kpis.length;o++)if(a.kpis[o].objectiveid==n.objectiveid&&a.kpis[o].functionid==n.functionid){createKPIContainerDiv(a.kpis[o].kpiname,a.kpis[o].kpiid,!0,a.kpis[o].description);var r=a.kpis[o].kpiname.replace(" ","").replace(" ","").replace(" ","").replace(" ","");$("#KPI_"+r).css("color","#000"),$("#img_"+r).attr("src","assets/img/KPI/"+r+"_active.png"),$("#kpi-list-container").find("#"+r).prop("checked",!0)}}else if(a.kpis.objectiveid==n.objectiveid&&a.kpis.functionid==n.functionid){createKPIContainerDiv(a.kpis.kpiname,a.kpis.kpiid,!0,a.kpis.description);var r=a.kpis.kpiname.replace(" ","").replace(" ","").replace(" ","").replace(" ","");$("#KPI_"+r).css("color","#000"),$("#img_"+r).attr("src","assets/img/KPI/"+r+"_active.png"),$("#kpi-list-container").find("#"+r).prop("checked",!0)}}function editKPI(t,e){var i=t.substr(4);e.setAttribute("onclick","createKPI('"+t+"', true);"),$(e).find("img").attr("src","assets/img/check_2.png");var n=$("#"+t).find("#"+i+"_defined").html().replace(/<br\s*[\/]?>/gi,"\n").replace(/&amp;/g,"&");$("#"+t).find("#"+i+"_define").find("textarea").val(n),$("#"+t).find("#"+i+"_define").find("textarea").attr("maxlength","150"),$("#"+t).find("#"+i+"_defined").hide(),$("#"+t).find("#"+i+"_define").show()}function createKPI(t,e){var i=$.trim($("#"+t).find("textarea").val());if(0==i.length)return void toastr.error("Description should not be empty");var n=_glocalStorage.loadData("login"),a=new KPI;a.functionid=parseInt($("#hdnCurrentHighlightFunctionId").val()),a.objectiveid=parseInt($("#hdnCurrentHighlightObjectiveId").val()),a.orgid=n.orgid,a.description=$.trim($("#"+t).find("textarea").val()).replace(/(?:\r\n|\r|\n)/g,"<br />"),a.kpiid=parseInt($("#"+t).find("#hdnKPIId").val());var o=!1;if(null!=orgData.kpis)for(var r=0;r<orgData.kpis.length;r++)orgData.kpis[r].kpiid==a.kpiid&&orgData.kpis[r].objectiveid==a.objectiveid&&orgData.kpis[r].functionid==a.functionid&&(a.kpimapid=orgData.kpis[r].kpimapid,orgData.kpis[r].description=a.description,o=!0);var d=_glocalStorage.loadData("orgdata"),s=new objKpi;if(s.objectiveid=a.objectiveid,s.functionid=a.functionid,s.kpiid=a.kpiid,s.orgid=a.orgid,s.description=a.description,s.kpimapid=0,d=_glocalStorage.loadData("orgdata"),s.kpiid>0){var n=_glocalStorage.loadData("login"),l=orgData.objectives,c=orgData.functions;GetOverviewNavigation(c,l),1==e?toastr.success("KPI updated successfully"):toastr.success("KPI created successfully");var g=GenerateKpiContainer(t.replace("div_",""),s.kpiid,!0,s.description);$("#"+t).html(g);var p=t.replace("div_","").replace(" ","").replace(" ","").replace(" ","").replace(" ","");$("#KPI_"+p).css("color","#000"),$("#img_"+p).attr("src","assets/img/KPI/"+p+"_active.png"),$("#kpi-list-container").find("#"+p).prop("checked",!0),s.kpiname=p,null==orgData.kpis&&(orgData.kpis=[]),o||orgData.kpis.push(s),_glocalStorage.saveData("orgdata",orgData);_glocalStorage.loadData("countdata");cnt++,$("#sync_count").html(cnt),$("#sync_count").show(),_glocalStorage.saveData("countdata",cnt)}else toastr.error("Something went wrong")}function resetKPIIconContainer(){for(var t=0;t<defaultKpis.length;t++){var e=defaultKpis[t].replace(" ","").replace(" ","").replace(" ","").replace(" ","");$("#KPI_"+e).css("color","#929496"),$("#img_"+e).attr("src","assets/img/KPI/"+e+".png"),$("#kpi-list-container").find("#"+e).removeAttr("checked")}}function GetOverviewNavigation(t,e){if(t.length>0){$("#navigationList").find("table").html("");for(var i="",n=0;n<t.length;n++){if(i+="<tr>",e.length>0)for(var a=0;a<e.length;a++)i+='<td id="ov_nav_'+t[n].functionid+"_"+e[a].id+'"></td>';i+="</tr>"}$("#navigationList").find("table").html(i),$("#navigationList").find("table").find("td").css("border","");var o=(_glocalStorage.loadData("login"),_glocalStorage.loadData("orgdata")),r=0,d=0;if(null!=o.kpis){if(o.kpis.length>0){r=o.kpis.length;for(var s=0;s<o.kpis.length;s++)drawOverviewNavigation(o.kpis[s].functionid,o.kpis[s].objectiveid);d=o.objectives.length}else r=1,d=1,drawOverviewNavigation(o.kpis.functionid,o.kpis.objectiveid);d=parseFloat(r/d).toFixed(1)}document.getElementById("total_kpis_defined").innerText=r.toString(),document.getElementById("average_kpi_objective").innerText=d}}function drawOverviewNavigation(t,e){$("#ov_nav_"+t+"_"+e).attr("hasKPI","1"),$("#ov_nav_"+t+"_"+e).css("background-color","#b7f1e8")}function highlightOverviewNavigation(t,e){$("#navigationList").find("table").find("td").css("border","");var i=$("#ov_nav_"+e+"_"+t).attr("hasKPI");"1"==i?$("#ov_nav_"+e+"_"+t).css("border","2px solid #00b18f"):$("#ov_nav_"+e+"_"+t).css("border","2px solid #ccc")}function GenerateKpiContainer(t,e,i,n){var a=t.replace(" ","").replace(" ","").replace(" ","").replace(" ",""),o='<div class="new-kpi-data" id="div_'+a+'"><input type="hidden" id="hdnKPIId" value="'+e+'" /><div style="height: 40px; padding: 5px 25px 0px 25px;"><div style="border-bottom: 1px solid #eee; padding-bottom: 5px;"><table style="width: 100%;"><tr><td style="width: 10%;"><img src="assets/img/KPI/'+a+'.png" style="width: 30px"></td><td style="width: 80%;font-family: HelveticaNeue_Bold;">'+t+'</td><td style="width: 10%; text-align: right;" onclick="removeKPIContainerDiv(&#39;'+a+"&#39;,&#39;"+e+'&#39;)"><img src="assets/img/delete.png" style="width: 30px" /></td></tr></table></div></div><div style="height: 90px;"><div style="padding: 10px 20px 0px 50px; width: 100%;"><div id="'+a+'_define" style="display:none;"><textarea placeholder="Add text here"></textarea></div><div id="'+a+'_defined" maxlength="200" style="padding: 10px 10px 0px 15px; height: 90px; overflow-y: auto;">'+n+'</div></div></div><div style="height: 40px; padding: 5px 25px 0px 25px;"><div><table style="width: 100%;"><tr><td style="width: 10%;"></td><td style="width: 80%;"></td>';return o+=i?'<td style="width: 10%; text-align: right;" onclick="editKPI(&#39;div_'+a+'&#39;, this)"><img src="assets/img/edit.png" style="width: 30px" /></td>':'<td style="width: 10%; text-align: right;" onclick="createKPI(&#39;div_'+a+'&#39;, false)"><img src="assets/img/check_2.png" style="width: 30px" /></td>',o+="</tr></table></div></div></div>"}function createKPIContainerDiv1(t,e,i,n){var a=t.replace(" ","").replace(" ","").replace(" ","").replace(" ",""),o='<div class="new-kpi-data" id="div_'+a+'"><input type="hidden" id="hdnKPIId" value="'+e+'" /><div style="height: 40px; padding: 5px 25px 0px 25px;"><div style="border-bottom: 1px solid #eee; padding-bottom: 5px;"><table style="width: 100%;"><tr><td style="width: 10%;"><img src="assets/img/KPI/'+a+'.png" style="width: 30px"></td><td style="width: 80%;font-family: HelveticaNeue_Bold;">'+t+'</td><td style="width: 10%; text-align: right;" onclick="removeKPIContainerDiv(&#39;'+a+"&#39;,&#39;"+e+'&#39;)"><img src="assets/img/delete.png" style="width: 30px" /></td></tr></table></div></div><div style="height: 90px;"><div style="padding: 10px 20px 0px 50px; width: 100%;"><div id="'+a+'_define"><textarea placeholder="Add text here" maxlength="150"></textarea></div><div id="'+a+'_defined" maxlength="200" style="padding: 10px 10px 0px 15px; height: 90px; overflow-y: auto;">'+n+'</div></div></div><div style="height: 40px; padding: 5px 25px 0px 25px;"><div><table style="width: 100%;"><tr><td style="width: 10%;"></td><td style="width: 80%;"></td>';o+=i?'<td style="width: 10%; text-align: right;" onclick="editKPI(&#39;div_'+a+'&#39;, this)"><img src="assets/img/edit.png" style="width: 30px" /></td>':'<td style="width: 10%; text-align: right;" onclick="createKPI(&#39;div_'+a+'&#39;, false)"><img src="assets/img/check_2.png" style="width: 30px" /></td>',o+="</tr></table></div></div></div>",$("#new-kpi-list").append(o),i?$("#"+a+"_define").css("display","none"):$("#"+a+"_defined").css("display","none"),i=!0}function onContentScroll(){g_init||(g_init=!0,document.getElementById("functionListContainer").addEventListener("webkitTransitionEnd",function(){var t=document.getElementById("functionListContainer");t.style.setProperty("-webkit-transition","none"),t.style.marginTop="0px";var e=parseInt(t.scrollTop)%134;0!=e&&(e>67?t.scrollTop=t.scrollTop+(134-e):t.scrollTop=t.scrollTop-e),onFunctionSelection(Math.round(parseInt(t.scrollTop)/134)+1)}));var t=document.getElementById("functionListContainer");t.style.webkitTransition="margin 1s ease-out";var e=parseInt(t.scrollTop)%134;t.scrollTop<40?onFunctionSelection(1):t.scrollTop>=134*(functionIdsArray.length-1.2)&&onFunctionSelection(functionIdsArray.length),0!=e&&(e>67?t.style.marginTop=e-134+"px":t.style.marginTop=e+"px")}function onFunctionSelection(t){console.log("Function index = "+t),t--,$("#functionList > .item > div").removeClass("activeFunction"),$("#functionList > .item > div").eq(t).addClass("activeFunction"),$("#hdnCurrentHighlightFunctionId").val(functionIdsArray[t]);var e=parseInt($("#hdnCurrentHighlightObjectiveId").val());GetObjectFunctionKPIMapping(e,parseInt(functionIdsArray[t])),highlightOverviewNavigation(e,functionIdsArray[t])}function checkHasKpi(){var t=document.getElementById("p_kpi");onClickKpis(t)&&$("#p_kpi").click()}var _kpiChart=null,_funkpiarray=new Array,_objkpiarray=new Array,objid=-1,functionNamesArray=[],functionIdsArray=[],functionIndex=0,slideTill=0,kmpid=-1,g_init=!1;